import{j as e,u as h,e as m,a as x,c as j,B as p}from"./index-BIk-NbIX.js";import{i as u}from"./placeholder-ice-cream-CrNkbAc3.js";import{O as v}from"./OverlayPopup.styled-B9oXmdWH.js";var f={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const N=f.VITE_IMAGE_KEY,E=({title:c,quantity:s,price:i,image:n,category:l})=>e.jsxs("div",{className:"flavor-card basket-item-card",children:[e.jsx("div",{className:"flavor-card-image",children:e.jsx("img",{src:n?`${N}/${n}`:u,alt:c})}),e.jsx("h3",{children:c}),e.jsx("p",{className:"flavor-category",children:l}),e.jsx("div",{className:"flavor-size",children:e.jsx("p",{children:"Poids : 450 g"})}),e.jsxs("div",{className:"price-and-quantity",children:[e.jsx("div",{className:"price",children:e.jsxs("p",{children:[i*s," €"]})}),e.jsx("div",{className:"quantity",children:e.jsx("p",{children:s})})]})]}),_=({isPopupOpen:c,closePopup:s,orderNumber:i,orderId:n})=>{const l=h(),d=m(),{user:a,isAuthenticated:g}=x(r=>r.user),t=async()=>{try{await l(p(n)).unwrap(),s(),(a==null?void 0:a.role)==="admin"?d("/dashboard/orders"):(a==null?void 0:a.role)==="client"?d("/orders"):d("/")}catch(r){console.error("Failed to delete order:",r)}},o=r=>{r.target===r.currentTarget&&s()};return c?e.jsx(v,{onClick:o,children:e.jsxs("div",{className:`popup-container ${c?"open":"closed"}`,children:[e.jsx("div",{onClick:s,className:"icon-close",children:e.jsx("img",{src:j,alt:"close"})}),e.jsxs("div",{className:"popup-content",children:[e.jsxs("h3",{children:["Etes-vous sûr de vouloir annuler la commande"," ",e.jsxs("span",{children:["#",i]})," ?"]}),e.jsxs("div",{className:"popup-buttons",children:[e.jsx("button",{onClick:t,children:"Oui"}),e.jsx("button",{onClick:s,children:"Non"})]})]})]})}):null},b="/assets/turn-back-DYxXevL3.png";export{_ as C,E as O,b as g};
