import{r as u,u as v,j as s,b as N,c as f}from"./index-DI_WgaGV.js";import{i as o}from"./placeholder-ice-cream-CrNkbAc3.js";import{O as b}from"./OverlayPopup.styled-Gnvyh-VF.js";var g={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const k=g.VITE_IMAGE_KEY,$=({id:l,title:e,image:a,pricePerUnit:n,category:c,onClick:i,onAddToBasket:m})=>{const[r,d]=u.useState(1),p=v(),x=()=>{d(t=>t+1)},j=()=>{r>1&&d(t=>t-1)},h=()=>{const t={id:l,title:e,image:a,price:n,quantity:r};p(N(t)),m(t),d(1)};return s.jsxs("div",{className:"flavor-card",children:[s.jsx("div",{className:"flavor-card-image",children:s.jsx("img",{src:a?`${k}/${a}`:o,alt:e,onClick:i})}),s.jsx("h3",{className:"flavor-title",onClick:i,children:e}),s.jsx("p",{className:"flavor-category",onClick:i,children:c}),s.jsx("div",{className:"flavor-size",onClick:i,children:s.jsx("p",{children:"Poids : 450 g"})}),s.jsxs("div",{className:"price-and-quantity",children:[s.jsx("div",{className:"price",children:s.jsxs("p",{children:[n*r," €"]})}),s.jsx("div",{className:"quantity",children:s.jsx("p",{children:r})}),s.jsxs("div",{className:"quantity-btn-container",children:[s.jsx("button",{className:"quantity-btn",onClick:x,children:"+"}),s.jsx("button",{className:"quantity-btn",onClick:j,children:"-"})]})]}),s.jsx("button",{className:"buy-btn",onClick:h,children:"Ajouter au panier"})]})};var y={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const E=y.VITE_IMAGE_KEY,A=({isPopupOpen:l,closePopup:e,item:a})=>{const n=c=>{c.target===c.currentTarget&&e()};return s.jsx(s.Fragment,{children:s.jsx(b,{onClick:n,children:s.jsxs("div",{className:`popup-container ${l?"open":"closed"}`,children:[s.jsx("div",{onClick:e,className:"icon-close",children:s.jsx("img",{src:f,alt:"close"})}),s.jsx("div",{className:"product-popup-content",children:s.jsxs("div",{className:"product-popup-main-content",children:[s.jsx("div",{className:"product-popup-main-content-img",children:s.jsx("img",{src:a.image?`${E}/${a.image}`:o,alt:a.title})}),s.jsxs("div",{className:"product-popup-main-content-text",children:[s.jsxs("div",{className:"item-add-to-basket-text",children:[s.jsx("span",{children:a.title})," a été ajouté à votre panier !",s.jsx("br",{}),"Quantité : ",s.jsx("span",{children:a.quantity}),s.jsx("br",{}),"Montant total : ",s.jsxs("span",{children:[a.quantity*a.price," €"]})]}),s.jsxs("div",{className:"go-to-basket-btn-container",children:[s.jsx("button",{onClick:e,children:"Fermer"}),s.jsxs("a",{href:"/basket",className:"go-to-basket-btn",children:[s.jsx("svg",{className:"icon",alt:"basket",children:s.jsx("use",{xlinkHref:"/sprite.svg#basket"})}),s.jsx("p",{children:"Panier"})]})]})]})]})})]})})})};export{$ as F,A as I};
