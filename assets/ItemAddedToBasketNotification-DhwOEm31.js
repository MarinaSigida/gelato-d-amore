import{r as v,u as N,j as s,t as f,b,c as g}from"./index-DibXn3i7.js";import{i as p}from"./placeholder-ice-cream-CrNkbAc3.js";import{O as k}from"./OverlayPopup.styled-Dp_1erdK.js";var E={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const _=E.VITE_IMAGE_KEY,q=({id:l,title:a,image:e,pricePerUnit:n,category:r,quantity:d,onClick:c,onAddToBasket:m})=>{const[i,o]=v.useState(1),u=N(),x=()=>{o(t=>t<d?t+1:(f.error(`Vous ne pouvez pas ajouter plus de ${d} glaces ${a} à votre panier`),t))},j=()=>{i>1&&o(t=>t-1)},h=()=>{const t={id:l,title:a,image:e,price:n,quantityToBuy:i};u(b(t)),m(t),o(1)};return s.jsxs("div",{className:"flavor-card",children:[s.jsx("div",{className:"flavor-card-image",children:s.jsx("img",{src:e?`${_}/${e}`:p,alt:a,onClick:c})}),s.jsx("h3",{className:"flavor-title",onClick:c,children:a}),s.jsx("p",{className:"flavor-category",onClick:c,children:r}),s.jsx("div",{className:"flavor-size",onClick:c,children:s.jsx("p",{children:"Poids : 450 g"})}),s.jsxs("div",{className:"price-and-quantity",children:[s.jsx("div",{className:"price",children:s.jsxs("p",{children:[n*i," €"]})}),s.jsx("div",{className:"quantity",children:s.jsx("p",{children:i})}),s.jsxs("div",{className:"quantity-btn-container",children:[s.jsx("button",{className:"quantity-btn",onClick:x,children:"+"}),s.jsx("button",{className:"quantity-btn",onClick:j,children:"-"})]})]}),s.jsx("button",{className:"buy-btn",onClick:h,children:"Ajouter au panier"})]})};var y={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const $=y.VITE_IMAGE_KEY,A=({isPopupOpen:l,closePopup:a,item:e})=>{const n=r=>{r.target===r.currentTarget&&a()};return s.jsx(s.Fragment,{children:s.jsx(k,{onClick:n,children:s.jsxs("div",{className:`popup-container ${l?"open":"closed"}`,children:[s.jsx("div",{onClick:a,className:"icon-close",children:s.jsx("img",{src:g,alt:"close"})}),s.jsx("div",{className:"product-popup-content",children:s.jsxs("div",{className:"product-popup-main-content",children:[s.jsx("div",{className:"product-popup-main-content-img",children:s.jsx("img",{src:e.image?`${$}/${e.image}`:p,alt:e.title})}),s.jsxs("div",{className:"product-popup-main-content-text",children:[s.jsxs("div",{className:"item-add-to-basket-text",children:[s.jsx("span",{children:e.title})," a été ajouté à votre panier !",s.jsx("br",{}),"Quantité : ",s.jsx("span",{children:e.quantity}),s.jsx("br",{}),"Montant total : ",s.jsxs("span",{children:[e.quantity*e.price," €"]})]}),s.jsxs("div",{className:"go-to-basket-btn-container",children:[s.jsx("button",{onClick:a,children:"Fermer"}),s.jsxs("a",{href:"/basket",className:"go-to-basket-btn",children:[s.jsx("svg",{className:"icon",alt:"basket",children:s.jsx("use",{xlinkHref:"/sprite.svg#basket"})}),s.jsx("p",{children:"Panier"})]})]})]})]})})]})})})};export{q as F,A as I};
