import{r,u as p,a as h,e as v,j as e,H as f,t}from"./index-DynBi6OI.js";import{F as x,a as j,b as w}from"./formik.esm-DN1cl7KR.js";import{l}from"./login-background-mobile-BMivoVlp.js";const N="/assets/images/banner-forgot-password.png",z=()=>{const[c,a]=r.useState(l),m=p(),{loading:d,error:u,isAuthenticated:n}=h(s=>s.user),o=v();r.useEffect(()=>{const s=()=>{window.innerWidth<=430?a(l):a(N)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),r.useEffect(()=>{n&&o("/")},[n,o]);const g=async s=>{try{await m(f(s.email)).unwrap(),t.success("E-mail de réinitialisation envoyé avec succès. Vérifiez votre boîte de réception.")}catch{t.error("Échec de l'envoi de l'e-mail de réinitialisation. Veuillez réessayer plus tard ou contacter le support.")}};return e.jsx("div",{className:"main",children:e.jsxs("div",{className:"login-container",children:[e.jsx("div",{className:"login-background-image",style:{backgroundImage:`url(${c})`}}),e.jsxs("div",{className:"login-form-wrapper",children:[e.jsx(x,{initialValues:{email:""},onSubmit:g,validate:s=>{const i={};return s.email||(i.email="L'email est requis"),i},children:({errors:s,touched:i})=>e.jsxs(j,{className:"login-form",children:[e.jsx("h3",{className:"form-header",children:"Veuillez entrer votre adresse e-mail pour réinitialiser votre mot de passe"}),e.jsxs("div",{className:"login-inputs",children:[e.jsx("div",{className:"login-input",children:e.jsx(w,{type:"email",name:"email",placeholder:"Votre adresse email",required:!0})}),s.email&&i.email&&e.jsx("p",{className:"form-error",children:s.email})]}),u&&e.jsx("p",{className:"form-error",style:{marginBottom:"40px"},children:"Utilisateur non trouvé. Veuillez vérifier votre email."}),e.jsxs("button",{type:"submit",children:[" ",d?"Envoi en cours...":"Confirmer"]})]})}),e.jsx("div",{className:"signup-link",children:e.jsx("a",{href:"login",children:"Retourner à la connexion"})})]})]})})};export{z as default};
